<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h2>할일 삭제와 이동 기능</h2>

    <h2>할일 목록 만들기</h2>
    
    <form class="nameForm">
        <h3 class="nameTitle"></h3>
        <input type="text" placeholder="이름을 입력하세요">
        <button type="button" >확인</button>
    </form>               


    <script>
        var nameForm = document.querySelector(".nameForm");
        var title = nameForm.querySelector(".nameTitle");
        var input = nameForm.querySelector("input");
        var button = nameForm.querySelector("button");

        button.onclick = function() {
            title.innerHTML = input.value + "님 안녕하세요"; //인풋의 value를 타이틀의 문자열로
            input.style.display = "none";
            button.style.display = "none";
        }

    </script>

    <form class="todoForm">
        <input type="text" placeholder="당신의 할일을 적으세요">
        <button type="button" >확인</button>        
    </form>
    <ul class="todoList">        
        
    </ul>

    <script>

        var todoForm = document.querySelector(".todoForm");
        var todo = todoForm.querySelector("input");
        var todoButton = todoForm.querySelector("button");
        var todoList = document.querySelector(".todoList");


        todoButton.onclick = function() {

            var li = document.createElement("li");
            var btn = document.createElement("button");
            var upbtn = document.createElement("button");
            var downbtn = document.createElement("button");
            var textnode = document.createTextNode(todo.value + " ");
            
            
            btn.innerHTML = "x";
            upbtn.innerHTML = "↑";  
            downbtn.innerHTML = "↓";

            btn.addEventListener("click", function(){del(li);});
            upbtn.addEventListener("click", function(){up(li);});
            downbtn.addEventListener("click", function(){down(li);});


            li.appendChild(textnode);
            li.appendChild(btn);
            li.appendChild(upbtn);
            li.appendChild(downbtn);
            todoList.appendChild(li); //ul의 자식으로 li

        }

        function del(li) {
           
            li.remove();
       
        }

        function up(li) {
            
            if (!li.previousElementSibling) {
            
                alert("첫 번째 항목입니다.");
            
                return;
            }
            
            if (confirm("위로 이동하시겠습니까?")) {
            
                todoList.insertBefore(li, li.previousElementSibling);
            
                alert("정상적으로 이동되었습니다.");
            
            } else {
            
                alert("원 상태를 유지합니다.");
            
            }
        }

        function down(li) {

            if (!li.nextElementSiblng) {

                alert("마지막 항목입니다.");

                return;

            }

            if (confirm("아래로 이동하시겠습니까?")) {

                todoList.insertBefore(li.nextElementSiblng, li);

                alert("정상적으로 이동되었습니다.");

            } else {

                alert("원 상태를 유지합니다.");

            }

        }


        //영상보고 복기
       

    </script>


</body>

</html>